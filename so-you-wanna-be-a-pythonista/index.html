<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>So You Wanna be a Pythonista</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/tmh.css">

		<!-- <link rel="stylesheet" href="styles/monokai.css"> -->
		<!-- <link rel="stylesheet" href="styles/monokai-sublime.css"> -->
		<!-- <link rel="stylesheet" href="styles/railscasts.css"> -->
		<link rel="stylesheet" href="styles/tomorrow-night-eighties.css">
		<!-- <link rel="stylesheet" href="styles/zenburn.css"> -->

		<link href="https://fonts.googleapis.com/css?family=Audiowide|Baloo+Bhaina|Iceland|Press+Start+2P|Squada+One" rel="stylesheet">

		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<style>
			img {
				background: none !important;
				border: 0 !important;
			}
			.text-shadow {
				text-shadow: 1px 1px 10px rgba(0, 0, 0, 0.6), 1px 1px 10px rgba(0, 0, 0, 0.6) !important;
			}
			.top {
				margin-top: -35% !important;
			}
			.top-left {
				margin-top: -30% !important;
				margin-left: -70% !important;
			}
			.bottom-right {
				margin-top: -14% !important;
				margin-right: -20% !important;
				margin-left: 65% !important;
			}
			.meme h1,
			.meme h2,
			.meme h3 {
				color: white;
				font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
				text-shadow:
					3px 3px 0 black, 3px -3px 0 black, -3px -3px 0 black, -3px 3px 0 black, 3px 2px 0 black, 3px -2px 0 black, -3px -2px 0 black, -3px 2px 0 black, 3px 1px 0 black, 3px -1px 0 black, -3px -1px 0 black, -3px 1px 0 black, 3px 0px 0 black, 3px 0px 0 black, -3px 0px 0 black, -3px 0px 0 black, 2px 3px 0 black, 2px -3px 0 black, -2px -3px 0 black, -2px 3px 0 black, 2px 2px 0 black, 2px -2px 0 black, -2px -2px 0 black, -2px 2px 0 black, 2px 1px 0 black, 2px -1px 0 black, -2px -1px 0 black, -2px 1px 0 black, 2px 0px 0 black, 2px 0px 0 black, -2px 0px 0 black, -2px 0px 0 black, 1px 3px 0 black, 1px -3px 0 black, -1px -3px 0 black, -1px 3px 0 black, 1px 2px 0 black, 1px -2px 0 black, -1px -2px 0 black, -1px 2px 0 black, 1px 1px 0 black, 1px -1px 0 black, -1px -1px 0 black, -1px 1px 0 black, 1px 0px 0 black, 1px 0px 0 black, -1px 0px 0 black, -1px 0px 0 black, 0px 3px 0 black, 0px -3px 0 black, 0px -3px 0 black, 0px 3px 0 black, 0px 2px 0 black, 0px -2px 0 black, 0px -2px 0 black, 0px 2px 0 black, 0px 1px 0 black, 0px -1px 0 black, 0px -1px 0 black, 0px 1px 0 black, 0px 0px 0 black, 0px 0px 0 black, 0px 0px 0 black, 0px 0px 0 black, 0 0 0 black;
				-webkit-font-smoothing: antialiased;
			}
		</style>
	</head>
	<body>
		<div height="30" style="font-family: Iceland, cursive !important; font-size: 30px; font-family: Arial; color:#ddd; z-index: 1; position: absolute; left:4em; bottom: 0.6em;">
			Pablo S Blum &lt;@scorphus&gt;
		</div>
		<img class="plain" height="30" src="tmh-white.png" alt="TMH" style="z-index: 1; position: absolute; right:8em; bottom: 1em;">
		<div class="reveal">
			<div class="slides">
				<section data-background="Charlie_and_the_Chocolate-2Fc2.jpg" class="meme">
					<h2>So you wanna be a</h2>
					<br><br><br><br><br><br><br><br>
					<h1>Pythonista</h1>
					<aside class="notes"><ul>
						<li>Abandon your previous mindset entirely</li>
						<li>Free your mind of whatever previous mindset you have</li>
						<li>Either if it's a Java mindset, C, C++, Perl, whatever</li>
						<li>You gotta be in the Python mindset</li>
					</ul></aside>
				</section>





				<section data-background="#222">
					<h2>Mainly</h2>
					<br>
					<ul>
						<li style="font-size: 1.38em;">Loop like a Pythonista</li>
						<li style="font-size: 1.38em;">Iterate like a Pythonista</li>
						<li style="font-size: 1.38em;">Write idiomatic, clean, fast
							&amp; efficient <strong><em>*Python*</em></strong> code</li>
					</ul>
				</section>





				<section data-background="buzz-and-woody.jpg" class="meme">
					<h2>Loops</h2>
					<br><br><br><br><br><br><br><br>
					<h1>Loops everywhere</h1>
				</section>





				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
for (i = 0; i < 10; i++) {
    printf("%d", n);
}
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for n in range(10):
    print(n)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
items = ['foo', 'bar', 'spam', 'egg']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(len(items)):
    print(items[i])
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for item in items:
    print(item)
					</code></pre>
					<aside class="notes"><ul>
						<li><em>This is how Java or C programmers write a for loop</em></li>
						<li><strong>How do they write a loop in Python?</strong></li>
						<li><strong>But how do they iterate over a list?</strong></li>
						<li><strong>They do the same. They're used to that</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
num_elem = len(input_list)
ret_list = [current_val]

for i in range(1, num_elem + 1):
    value = ret_list[i - 1] - input_list[i - 1] / input_val
    value = some_func(value)
    ret_list.append(value)
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
ret_list = [current_val]

for elem in input_list:
    ret_list.append(some_func(
        ret_list[-1] - elem / input_val
    ))
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Var/func renamed but the code remains intact</em></li>
						<li>At first sight this is a little difficult to grasp</li>
						<li>You get the number of elements in the input list...</li>
						<li>Well... This is <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = ['Edison', 'Bell', 'Ford', 'Franklin', 'Tesla']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(len(inventors), -1, -1):
    print(inventors[i])
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for inventor in reversed(inventors):
    print(inventor)
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop backwards?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
# ...
elif isinstance(value, tuple):
    other = (value[i] for i in range(len(value) - 1, -1, -1))
    return tuple(other)
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
# ...
elif isinstance(value, tuple):
    return tuple(reversed(value))
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Again, vars renamed, code intact</em></li>
						<li>You have to force yourself to understand that...</li>
						<li>"Oh! It's just reversing a collection!"</li>
						<li>This is <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = ['Edison', 'Bell', 'Ford', 'Franklin', 'Tesla']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(len(inventors)):
    print(f'{i}: {inventors[i]}')
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i, inventor in enumerate(inventors):
    print(f'{i}: {inventor}')
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop with an index?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Enumerate! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
def append_to_some_list(self, xyz_vector):
    size = len(self.some_list)
    for i in range(len(xyz_vector)):
        if i < size:
            self.some_list[i] += xyz_vector[i]
        else:
            self.some_list.append(xyz_vector[i])
					</code></pre>
					<div class="fragment fade-left">Improved:
					<pre><code class="python" data-trim data-noescape>
def append_to_some_list(self, xyz_vector):
    for i, xyz in enumerate(xyz_vector):
        <mark>if i < len(self.some_list):</mark>
            self.some_list[i] += xyz
        else:
            self.some_list.append(xyz)
					</code></pre></div>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
def append_to_some_list(self, xyz_vector):
    self.some_list[:len(xyz_vector)] = xyz_vector
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Again, func and vars renamed, code intact</em></li>
						<li>You have to <strong>really</strong> concentrate
							to be able to read this... and understand it...</li>
						<li>But it's <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>But is a Pythonista happy with that? No!</strong></li>
						<li>You gotta be in the Python mindset!</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = ['Edison', 'Bell', 'Ford', 'Franklin', 'Tesla']
inventions = ['💡', '☎️', '🚗', '⚡️-Rod']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(min(len(inventors), len(inventions))):
    print(f'{inventors[i]} invented {inventions[i]}')
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for inventor, invention in zip(inventors, inventions):
    print(f'{inventor} invented {invention}')
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop over two collections?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Zip! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
label_list = ['ipsum', 'labore', 'velit', 'magna']
color_list = ['#EADEAD', '#EAEDED', '#717D7E', '#5DADE2']

<mark>min_len = min(len(label_list), len(color_list))</mark>
result_list = []
for i in range(min_len):
    result = some_func(color=color_list[i], label=label_list[i])
    result_list.append(result)
					</code></pre>
					<div class="fragment fade-left">Improved:
					<pre><code class="python" data-trim data-noescape>
result_list = []
for color, label in zip(color_list, label_list):
    result_list.append(some_func(color=color, label=label))
					</code></pre></div>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
result_list = [some_func(color=c, label=l)
               for c, l in zip(color_list, label_list)]
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Func and vars renamed, code intact</em></li>
						<li>Original code didn't care about the minimum length</li>
						<li>Again hard to read and understand because...</li>
						<li>Yeah, it's <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>But, is a Pythonista happy with that? No!</strong></li>
						<li>You gotta be in the Python mindset!</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = [
    {'name': 'Edison'},
    {'name': 'Bell'},
    {'name': 'Ford'},
    {'name': 'Franklin'},
    {'name': 'Tesla'},
]
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
inventors.sort(cmp=lambda a, b: cmp(a['name'], b['name']))
for i in range(len(inventions)):
    print(inventors[i])
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for inventor in sorted(inventors,
                       cmp=lambda a, b: cmp(a['name'], b['name'])):
    print(inventor)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
from operator import itemgetter

for inventor in sorted(inventors, key=itemgetter('name')):
    print(inventor)
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop over a collection in some order?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Sorted! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>Anything non-Pythonic in there? (cmp func)</strong></li>
						<li>Yes! In fact comparison functions were removed from Python 3!</li>
						<li><em>That's also common and you can find code like that in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
# ...
self.data.sort(cmp=lambda b, a: cmp(getattr(a, criteria),
                                getattr(b, criteria)))
for e in self.data:
    if e.some_attribute:
        # ...
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
# ...
from operator import attrgetter
# ...
for e in sorted(self.data, key=attrgetter('criteria')):
    if e.some_attribute:
        # ...
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Func and vars renamed, code intact</em></li>
						<li>Original code doesn't work with Python 3</li>
						<li>And it's <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>Key function! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>You gotta know the Python Standard Library!</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<section data-background="Yoda-Force-Lightning-Featured.jpg" class="meme">
					<h2>A Pythonista's strength</h2>
					<h2>flows from the</h2>
					<br><br><br><br>
					<h1>Standard Library</h1>
				</section>





				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
import random

def randdigit():
    return random.randint(0, 9)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
while True:
    digit = randdigit()
    if digit == 0:
        break
    print(digit)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for digit in iter(randdigit, 0):
    print(digit)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
import functools

randdigit = functools.partial(random.randint, 0, 9)
print(randdigit())
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
randdigit = functools.partial(random.randint, a=0, b=9)
print(randdigit())
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
randnatural = functools.partial(random.randint, a=0)
print(randnatural(359))
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop with a sentinel?
						For example, how to print a random digit until it's zero?
						</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Iter! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>Anything else Pythonistas do differently?</strong>
						<li><em>Now that infinite loop is so common that it exists in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
result = []
f = open(some_file, 'r')
while True:
    l = f.readline()
    if l == '':
        break
    l = l.rstrip()
    result.append(l)
f.close()
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
with open(some_file) as f:
    result = [l.rstrip() for l in iter(f.readline, '')]
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Func and vars renamed, code intact</em></li>
						<li>There are a few issues with the original code, right?</li>
						<li>Other than it being not readable</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>A Pythonista writes <strong>Pythonic code</strong>!
							That is Readable, Runs faster &amp; Uses less mem</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<section data-background="hammer-screw.jpg" class="meme">
					<h2>Let's all Understand</h2>
					<h2>and use the</h2>
					<br><br><br><br><br><br>
					<h1>Python Mindset</h1>
				</section>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
				controls: false,
				history: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				],
				progress: false,
			});
		</script>
	</body>
</html>
