<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>So You Wanna be a Pythonista</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/tmh.css">

		<!-- <link rel="stylesheet" href="styles/monokai.css"> -->
		<!-- <link rel="stylesheet" href="styles/monokai-sublime.css"> -->
		<!-- <link rel="stylesheet" href="styles/railscasts.css"> -->
		<link rel="stylesheet" href="styles/tomorrow-night-eighties.css">
		<!-- <link rel="stylesheet" href="styles/zenburn.css"> -->

		<link href="https://fonts.googleapis.com/css?family=Audiowide|Baloo+Bhaina|Iceland|Press+Start+2P|Squada+One" rel="stylesheet">

		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<style>
			img {
				background: none !important;
				border: 0 !important;
			}
			.text-shadow {
				text-shadow: 1px 1px 10px rgba(0, 0, 0, 0.6), 1px 1px 10px rgba(0, 0, 0, 0.6) !important;
			}
			.top {
				margin-top: -35% !important;
			}
			.top-left {
				margin-top: -30% !important;
				margin-left: -70% !important;
			}
			.bottom-right {
				margin-top: -14% !important;
				margin-right: -20% !important;
				margin-left: 65% !important;
			}
			.meme h1,
			.meme h2,
			.meme h3 {
				color: white;
				font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
				text-shadow:
					3px 3px 0 black, 3px -3px 0 black, -3px -3px 0 black, -3px 3px 0 black, 3px 2px 0 black, 3px -2px 0 black, -3px -2px 0 black, -3px 2px 0 black, 3px 1px 0 black, 3px -1px 0 black, -3px -1px 0 black, -3px 1px 0 black, 3px 0px 0 black, 3px 0px 0 black, -3px 0px 0 black, -3px 0px 0 black, 2px 3px 0 black, 2px -3px 0 black, -2px -3px 0 black, -2px 3px 0 black, 2px 2px 0 black, 2px -2px 0 black, -2px -2px 0 black, -2px 2px 0 black, 2px 1px 0 black, 2px -1px 0 black, -2px -1px 0 black, -2px 1px 0 black, 2px 0px 0 black, 2px 0px 0 black, -2px 0px 0 black, -2px 0px 0 black, 1px 3px 0 black, 1px -3px 0 black, -1px -3px 0 black, -1px 3px 0 black, 1px 2px 0 black, 1px -2px 0 black, -1px -2px 0 black, -1px 2px 0 black, 1px 1px 0 black, 1px -1px 0 black, -1px -1px 0 black, -1px 1px 0 black, 1px 0px 0 black, 1px 0px 0 black, -1px 0px 0 black, -1px 0px 0 black, 0px 3px 0 black, 0px -3px 0 black, 0px -3px 0 black, 0px 3px 0 black, 0px 2px 0 black, 0px -2px 0 black, 0px -2px 0 black, 0px 2px 0 black, 0px 1px 0 black, 0px -1px 0 black, 0px -1px 0 black, 0px 1px 0 black, 0px 0px 0 black, 0px 0px 0 black, 0px 0px 0 black, 0px 0px 0 black, 0 0 0 black;
				-webkit-font-smoothing: antialiased;
			}
			.reveal cite {
				font-size: .75em !important;
				margin-right: -350px !important;
			  }
		</style>
	</head>
	<body>
		<div height="30" style="font-family: Iceland, cursive !important; font-size: 30px; font-family: Arial; color:#ddd; z-index: 1; position: absolute; left:4em; bottom: 0.6em;">
			Pablo S Blum &lt;@scorphus&gt;
		</div>
		<img class="plain" height="30" src="tmh-white.png" alt="TMH" style="z-index: 1; position: absolute; right:8em; bottom: 1em;">
		<div class="reveal">
			<div class="slides">
				<section data-background="Charlie_and_the_Chocolate-2Fc2.jpg" class="meme">
					<h2>So you wanna be a</h2>
					<br><br><br><br><br><br><br><br>
					<h1>Pythonista</h1>
					<aside class="notes"><ul style="font-size: 0.9em;">
						<li>Who is a pythonista? Who wants to be a Pythonista? What does it mean to be a Pythonista?</li>
						<li>It means we all understand each other for we speak the same language</li>
						<li>We're all used to the same idiom. Thus the expression ‚Äúidiomatic Python‚Äù</li>
						<li>In order to be a true Pythonista you should abandon your previous mindset entirely...</li>
						<li>Either if it's a Java mindset, C, C++, Perl, PHP, Ruby or whatever</li>
						<li>Free your mind of whatever previous mindset you have</li>
						<li>You gotta fully adopt the Python mindset</li>
					</ul></aside>
				</section>





				<section data-background="#222">
					<h2>Part 1</h2>
					<br>
					<ul>
						<li style="font-size: 1.38em;">Loop like a Pythonista</li>
						<li style="font-size: 1.38em;">Iterate like a Pythonista</li>
						<li style="font-size: 1.38em;">Write idiomatic, clean, fast
							&amp; efficient <strong><em>Pythonic</em></strong> code</li>
					</ul>
					<aside class="notes"><ul>
						<li>This is such a large subject for a single talk</li>
						<li>So I‚Äôll split it in two parts</li>
						<li>Today we'll talk about loops, iteration,</li>
						<li>And why it's important to write readable, clean and pythonic code</li>
					</ul></aside>
				</section>





				<section data-background="#222">
					<h2>Key takeaways
					<div style="font-size: 0.32em; line-height: 0.75em"><br>(why should we code cleanly and ‚Äúpythonically‚Äù?)</div></h2>
					<ul class="fragment fade-in">
						<li>Readability</li>
						<li>Simplicity</li>
						<li>Maintainability</li>
						<li>Debugging easiness</li>
						<li>Shallow learning curve</li>
						<li>Focus on code's purpose</li>
						<li>No hassle (don't fight the snake)</li>
					</ul>
					<aside class="notes"><ul style="font-size: 0.79em;">
						<li><strong>Why do you think it's important to write clean and pythonic code?</strong></li>
						<li>It increases readability, simplicity and maintainability</li>
						<li>And readability is about making our lives easier, as code is read more often than it is written</li>
						<li>Better readability means easier maintainability</li>
						<li>it also makes debugging so much easier, right?</li>
						<li>Clean, Pythonic, readable code makes on-boarding much easier</li>
						<li>This is important: it flattens the learning curve for a newcomer Pythonista</li>
						<li>And definitely for you as well going back to the code six months later.</li>
						<li>It allows you to focus on the concept being expressed by the code</li>
						<li><strong>rather than losing time deciphering a cryptic codebase</strong></li>
					</ul></aside>
				</section>





				<section data-background="#222">
					<blockquote><em>‚ÄúReadability is the ease with which a reader can understand a written text.‚Äù</em></blockquote>
					<cite> ‚Äì Wikipedia, 22 April 2011‚Äé</cite>
					<aside class="notes"><ul>
						<li>I present this talk for I believe we can all be better Pythonistas</li>
						<li><strong>So, without further ado...</strong></li>
					</ul></aside>
				</section>





				<section data-background="buzz-and-woody.jpg" class="meme">
					<h2>Loops</h2>
					<br><br><br><br><br><br><br><br>
					<h1>Loops everywhere</h1>
					<aside class="notes">Let's talk about loops!</aside>
				</section>





				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
for (i = 0; i < 10; i++) {
    printf("%d", n);
}
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for n in range(10):
    print(n)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
items = ['foo', 'bar', 'spam', 'egg']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(len(items)):
    print(items[i])
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for item in items:
    print(item)
					</code></pre>
					<aside class="notes"><ul style="font-size: 0.99em;">
						<li><em>This is how Java or C programmers write a for loop</em></li>
						<li>And that's ok for Java, C and may other languages</li>
						<li><strong>Then how do they write a for loop in Python?</strong></li>
						<li>That's how it's done in Python, right?</li>
						<li><strong>But... how do they iterate over a list?</strong></li>
						<li><strong>They do the same. They're used to that. It's in their mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common, you see so much of that out there.
							In fact you can even find code worse than that in TMH's repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
num_elem = len(input_list)
ret_list = [current_val]

for i in range(1, num_elem + 1):
    value = ret_list[i - 1] - input_list[i - 1] / input_val
    value = some_func(value)
    ret_list.append(value)
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
ret_list = [current_val]

for elem in input_list:
    ret_list.append(some_func(
        ret_list[-1] - elem / input_val
    ))
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>So, the variables and functions were renamed but
							the code itself remains intact</em></li>
						<li>At first sight this is a little difficult to grasp</li>
						<li>You get the number of elements in the input list...
							Create a new list... then iterate over it in a...</li>
						<li>Well... Very <strong>unreadable</strong> way!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = ['Edison', 'Bell', 'Ford', 'Franklin', 'Tesla']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(len(inventors), -1, -1):
    print(inventors[i])
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for inventor in reversed(inventors):
    print(inventor)
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop backwards?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Reversed! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in our repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
# ...
elif isinstance(value, tuple):
    other = (value[i] for i in range(len(value) - 1, -1, -1))
    return tuple(other)
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
# ...
elif isinstance(value, tuple):
    return tuple(reversed(value))
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Again, vars renamed, code intact</em></li>
						<li>You have to force yourself to understand that...</li>
						<li>"Oh! It's just reversing a collection!"</li>
						<li>This is <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = ['Edison', 'Bell', 'Ford', 'Franklin', 'Tesla']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(len(inventors)):
    print(f'{i}: {inventors[i]}')
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i, inventor in enumerate(inventors):
    print(f'{i}: {inventor}')
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop with an index?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Enumerate! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in our repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
def append_to_some_list(self, xyz_vector):
    size = len(self.some_list)
    for i in range(len(xyz_vector)):
        if i < size:
            self.some_list[i] += xyz_vector[i]
        else:
            self.some_list.append(xyz_vector[i])
					</code></pre>
					<div class="fragment fade-left">Improved:
					<pre><code class="python" data-trim data-noescape>
def append_to_some_list(self, xyz_vector):
    for i, xyz in enumerate(xyz_vector):
        <mark>if i < len(self.some_list):</mark>
            self.some_list[i] += xyz
        else:
            self.some_list.append(xyz)
					</code></pre></div>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
def append_to_some_list(self, xyz_vector):
    self.some_list[:len(xyz_vector)] = xyz_vector
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Again, func and vars renamed, code intact</em></li>
						<li>You have to <strong>really</strong> concentrate
							to be able to read this... and understand it...</li>
						<li>But it's <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>But is a Pythonista happy with that? No!</strong></li>
						<li>You gotta be in the Python mindset!</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = ['Edison', 'Bell', 'Ford', 'Franklin', 'Tesla']
inventions = ['üí°', '‚òéÔ∏è', 'üöó', '‚ö°Ô∏è-Rod']
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for i in range(min(len(inventors), len(inventions))):
    print(f'{inventors[i]} invented {inventions[i]}')
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for inventor, invention in zip(inventors, inventions):
    print(f'{inventor} invented {invention}')
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop over two collections?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Zip! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>That's so common that you can find code like that in our repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
label_list = ['ipsum', 'labore', 'velit', 'magna']
color_list = ['#EADEAD', '#EAEDED', '#717D7E', '#5DADE2']

<mark>min_len = min(len(label_list), len(color_list))</mark>
result_list = []
for i in range(min_len):
    result = some_func(color=color_list[i], label=label_list[i])
    result_list.append(result)
					</code></pre>
					<div class="fragment fade-left">Improved:
					<pre><code class="python" data-trim data-noescape>
result_list = []
for color, label in zip(color_list, label_list):
    result_list.append(some_func(color=color, label=label))
					</code></pre></div>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
result_list = [some_func(color=c, label=l)
               for c, l in zip(color_list, label_list)]
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Func and vars renamed, code intact</em></li>
						<li><strong>Important to note</strong>: Original code didn't
							care about the minimum length</li>
						<li>Again hard to read and understand because...</li>
						<li>Yeah, it's <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>This. It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>But, is a Pythonista happy with that? No!</strong></li>
						<li>You gotta be in the Python mindset!</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
inventors = [
    {'name': 'Edison'},
    {'name': 'Bell'},
    {'name': 'Ford'},
    {'name': 'Franklin'},
    {'name': 'Tesla'},
]
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
inventors.sort(cmp=lambda a, b: cmp(a['name'], b['name']))
for i in range(len(inventions)):
    print(inventors[i])
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for inventor in sorted(inventors,
                       cmp=lambda a, b: cmp(a['name'], b['name'])):
    print(inventor)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
from operator import itemgetter

for inventor in sorted(inventors, key=itemgetter('name')):
    print(inventor)
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop over a collection in some specific order?</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Sorted! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>Anything non-Pythonic in there? (cmp func)</strong></li>
						<li>Yes! In fact comparison functions were removed from Python 3!</li>
						<li><em>That's also common and you can find code like that in our repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
self.data.sort(cmp=lambda b, a: cmp(getattr(a, criteria),
                                getattr(b, criteria)))
for e in self.data:
    if e.some_attribute:
        # ...
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
from operator import attrgetter

for e in sorted(self.data, key=attrgetter('criteria')):
    if e.some_attribute:
        # ...
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Func and vars renamed, code intact</em></li>
						<li>Original code doesn't work with Python 3</li>
						<li>And it's <strong>not</strong> readable!</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>Sorted with a key function! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>You gotta know the Python Standard Library!</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->





				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
import random

def randdigit():
    return random.randint(0, 9)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
while True:
    digit = randdigit()
    if digit == 0:
        break
    print(digit)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
for digit in iter(randdigit, 0):
    print(digit)
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
import functools

randdigit = functools.partial(random.randint, 0, 9)
print(randdigit())
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
randdigit = functools.partial(random.randint, a=0, b=9)
print(randdigit())
					</code></pre>
					<pre class="fragment fade-up"><code class="python" data-trim data-noescape>
randnatural = functools.partial(random.randint, a=0)
print(randnatural(359))
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers loop with a sentinel?
						For example, how to print a random digit until it's zero?
						</em></li>
						<li><strong>They use their previous language mindset</strong></li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Iter! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>Anything else Pythonistas do differently?</strong>
						<li><em>Now, that infinite loop is so common that it
							exists in our repos...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Original:
					<pre><code class="python" data-trim data-noescape>
result = []
f = open(some_file, 'r')
while True:
    l = f.readline()
    if l == '':
        break
    l = l.rstrip()
    result.append(l)
f.close()
return result
					</code></pre>
					<div class="fragment fade-left">Improved:
					<pre><code class="python" data-trim data-noescape>
with open(some_file) as f:
    return [l.rstrip() for l in iter(f.readline, '')]
					</code></pre></div>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
with open(some_file) as f:
    return [l.rstrip() for l in f.readlines()]
					</code></pre></div>
					<aside class="notes"><ul>
						<li><em>Func and vars renamed, code intact</em></li>
						<li>There are a few issues with the original code, right?</li>
						<li>Other than it being not readable</li>
						<li><strong>What would a Pythonista do instead?</strong>
						<li>A Pythonista writes <strong>Pythonic code</strong>!
							That is Readable, Runs faster &amp; Uses less mem</li>
						<li><strong>Still anything unusual?</strong></li>
						<li>Readability counts!</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE START ##################### -->

				<section data-background="#222">
					<pre><code class="python" data-trim data-noescape>
supported = False
for i in range(methods):
    if methods[i].support(action):
        self.method = method[i]
        supported = True
        break

if not supported:
    raise ActionNotSupported(action)
					</code></pre>
					<pre class="fragment fade-left"><code class="python" data-trim data-noescape>
for method in methods:
    if method.support(action):
        self.method = method
        break
else:
    raise ActionNotSupported(action)
					</code></pre>
					<aside class="notes"><ul>
						<li><em>How do Java or C programmers know if a certain
							for loop hit a break or not?</em></li>
						<li>They do like they always have. With a flag. Why? Just
							because that's how it works in every language they know!</li>
						<li><strong>What a Pythonista does instead?</strong>
						<li>Else! It's Readable, Runs faster &amp; Uses less mem</li>
						<li><em>Yeah, there is code like that in our repos...</em></li>
						<li><em>ARE YOU READY?</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222" data-transition="slide fade-out">
					Original:
					<pre><code class="python" data-trim data-noescape>
ok = False
for i in range(certain_index-1, -1, -1):
    some_ord = some_dict.get(ord(some_list[i]))
    if some_ord == ord('T'):
        continue
    if some_ord in [ord('L'), ord('D')]:
        ok = True
        break

if not ok:
    return False

ok = False
for i in range(certain_index+1, len(some_list)):
    some_ord = some_dict.get(ord(some_list[i]))
    if some_ord == ord('T'):
        continue
    if some_ord in [ord('R'), ord('D')]:
        ok = True
        break
return ok
					</code></pre>
					<aside class="notes"><ul>
						<li><em>Believe me. This code rests in some of our repos</em></li>
						<li>Functions and variables were renamed</li>
						<li>There're so many wrong things in this code...</li>
						<li>Can you read it? Nah...</li>
						<li><em>Things to consider before we refactor this</em>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222" data-transition="fade-in">
					Original:
					<pre><code class="python" data-trim data-noescape>
<mark>ok = False</mark>
<mark>for i in range(certain_index-1, -1, -1):</mark>
    some_ord = some_dict.get(ord(some_list[i]))
    <mark>if some_ord == ord('T'):</mark>
        continue
    if some_ord in [ord('L'), ord('D')]:
        <mark>ok = True</mark>
        break

<mark>if not ok:</mark>
    <mark>return False</mark>

<mark>ok = False</mark>
<mark>for i in range(certain_index+1, len(some_list)):</mark>
    some_ord = some_dict.get(ord(some_list[i]))
    <mark>if some_ord == ord('T'):</mark>
        continue
    if some_ord in [ord('R'), ord('D')]:
        <mark>ok = True</mark>
        <mark>break</mark>
<mark>return ok</mark>
					</code></pre>
					<aside class="notes"><ul style="font-size: 0.95em;">
						<li>First of course the unnecessary flag up top then
							again in the middle</li>
						<li>Then there are the C++ style loops.
							The first one being backwards</li>
						<li>Also those nonsense IFs, which are out of the scope of
							this talk but I just couldn't leave em there</li>
						<li>Then the unnecessary flag swaps on break</li>
						<li>And finally, down at the bottom, the attrib and break just
							before a return (WTF?) also out of scope but anyways</li>
						<li><em>(PAUSE)</em>This code is so non-pythonic!</li>
						<li><em>What would a Pythonista do instead?</em>
					</ul></aside>
				</section>

				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					Improved
					<pre><code class="python" data-trim data-noescape>
for el in some_list[certain_index-1::-1]:
    if some_dict.get(ord(el)) in [ord('L'), ord('D')]:
        break
else:
    return False
					</code></pre>
					<div class="fragment fade-left">Refactored:
					<pre><code class="python" data-trim data-noescape>
from itertools import islice

for el in islice(reversed(some_list), certain_index, None):
    if some_dict.get(ord(el)) in [ord('L'), ord('D')]:
        break
else:
    return False

for el in islice(some_list, certain_index, None):
    if some_dict.get(ord(el)) in [ord('L'), ord('D')]:
        return True

return False
					</code></pre></div>
					<aside class="notes"><ul style="font-size: 0.95em;">
						<li>First we loop like we should ... well, not quite like
							we should, as you will see shortly</li>
						<li>Then we use an else statement instead of a flag</li>
						<li>So, I said we're not looping as we really should
							why are we not?</li>
						<li>Because that slice creates a new list in memory!</li>
						<li><strong>What's the Pythonic solution?</strong></li>
						<li>Islice, from itertools! A Pythonista uses iterators
							and generators not because they're fancy and cool.
							We use them because they work and save time and
							memory. And they're readable, too! Does this code
							scale? Sure thing!</li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<section data-background="Yoda-Force-Lightning-Featured.jpg" class="meme">
					<h2>A Pythonista's strength</h2>
					<h2>flows from the</h2>
					<br><br><br><br>
					<h1>Standard Library</h1>
					<aside class="notes"><ul style="font-size: 0.9em;">
						<li>We saw some nice things from the standard library</li>
						<li>such as enumerate, zip, reversed, sorted, key functions</li>
						<li>operators, functools, itertools, and what not</li>
						<li>the python standard library is one of the most amazing aspect
							of python</li>
						<li>and we as pythonistas should learn how to use it</li>
					</ul></aside>
				</section>




				<section data-background="hammer-screw.jpg" class="meme">
					<h2>Let's all Understand</h2>
					<h2>and use the</h2>
					<br><br><br><br><br><br>
					<h1>Python Mindset</h1>
					<aside class="notes"><ul style="font-size: 0.9em;">
						<li>So, as we come to the end of this part, I urge you to
							write clean, readable, idiomatic, pythonic code!</li>
						<li>Read as much code as you can to absorb the python mindset</li>
						<li>Read the stdlib source code, for instance!</li>
						<li>"Can you hammer a screw?"</li>
						<li>Well, try it! You usually can</li>
						<li>But it's so difficult!</li>
						<li>And the screw can tear the material</li>
						<li>Or bend sideways like in this picture</li>
						<li>........</li>
						<li>Same goes with coding!</li>
						<li><strong>Hope to see you in part 2! Thanks!</strong></li>
					</ul></aside>
				</section>





				<section data-background="to-be-continued.jpg" class="meme">
					<h1>See you in Part 2</h1>
					<br><br><br><br><br><br><br><br><br>
					<h2>Thanks!</h2>
					<aside class="notes"><ul>
						<li><em>Ah! Let me give you some sneak preview into part two</em></li>
					</ul></aside>
				</section>




				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					<h3>Part 2 sneak preview</h3>
					<div>Don't:
					<pre><code class="python" data-trim data-noescape>
foobar(collection[0], collection[1])
					</code></pre>
					Instead:
					<pre><code class="python" data-trim data-noescape>
first, second = collection
foobar(first, second)
					</code></pre></div>
					<div class="fragment fade-left">Don't:
					<pre><code class="python" data-trim data-noescape>
foobar(collection[0], collection[1:-1], collection[-1])
					</code></pre>
					Instead:
					<pre><code class="python" data-trim data-noescape>
head, *middle, tail = collection
foobar(head, middle, tail)
					</code></pre></div>
					<aside class="notes"><ul>
						<li>In part two we'll have some more do's and dont's</li>
						<li>like this</li>
						<li><strong>and this</strong></li>
						<li><em>also...</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					<div>Don't:
					<pre><code class="python" data-trim data-noescape>
head, *discard, tail = collection
foobar(head, tail)
					</code></pre>
					Instead:
					<pre><code class="python" data-trim data-noescape>
head, *_, tail = collection
foobar(head, tail)
					</code></pre></div>
					<div class="fragment fade-left">Don't:
					<pre><code class="python" data-trim data-noescape>
matrix = [[0] * 3 for unused_index in range(3)]
					</code></pre>
					Instead:
					<pre><code class="python" data-trim data-noescape>
matrix = [[0] * 3 for _ in range(3)]
					</code></pre>
					Or even better!
					<pre><code class="python" data-trim data-noescape>
matrix = [[0] * 3] * 3
					</code></pre></div>
					<aside class="notes"><ul>
						<li>like this</li>
						<li><strong>and this</strong></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<!-- #################### SLIDE INTERMISSION ##################### -->

				<section data-background="#222">
					<h3>Part 2 will bring</h3>
					<ul>
						<li>Dictionary skils</li>
						<li>Tuples skills</li>
						<li>Namedtuples skills</li>
						<li>Sets skills</li>
						<li>Multiple state variables</li>
						<li>Strings</li>
						<li>Sequences</li>
						<li>Decorators</li>
						<li>Context Managers</li>
						<li>Locks</li>
						<li>Files</li>
						<li>...</li>
					</ul>
					<aside class="notes"><ul>
						<li>All in all, part two will highlight some dictionary skills</li>
						<li>Remember how to work with tuples, namedtuples, sets</li>
						<li>Understand what multiple state variables are</li>
						<li>We'll talk about strings, sequences, decorators, context managers</li>
						<li>How to use locks</li>
						<li>How to open and close files</li>
						<li>And what not</li>
						<li><em>So make sure you don't miss part 2. Thanks!</em></li>
					</ul></aside>
				</section>

				<!-- #################### SLIDE FINISH #################### -->




				<section data-background="to-be-continued.jpg" class="meme">
						<h1>Don't miss Part 2</h1>
						<br><br><br><br><br><br><br><br><br>
						<h2>Thanks!</h2>
					</section>




			</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
				controls: false,
				history: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				],
				progress: false,
			});
		</script>
	</body>
</html>
